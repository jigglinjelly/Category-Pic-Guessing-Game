<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Category Image Guessing Game</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1000px;
            width: 100%;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 25px;
            margin-top: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 10px;
        }
        
        .header h1 {
            color: white;
            font-size: 3rem;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .players-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
        }
        
        .player {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            width: 45%;
            transition: all 0.3s ease;
            position: relative;
            background: #f8f9fa;
        }
        
        .player.active {
            background: #e3f2fd;
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.3);
            transform: scale(1.03);
        }
        
        .player h2 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .player-name {
            border: none;
            background: transparent;
            font-size: 1.5rem;
            text-align: center;
            width: auto;
            max-width: 120px;
            padding: 5px;
            border-radius: 4px;
            margin: 0 5px;
            border: 1px solid #ddd;
        }
        
        .player-name:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 0 2px #2196f3;
        }
        
        .score {
            font-size: 2rem;
            font-weight: bold;
            color: #2196f3;
        }
        
        .time-bank {
            margin-top: 10px;
            font-size: 1.2rem;
            color: #e74c3c;
        }
        
        .game-area {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .image-container {
            width: 100%;
            height: 500px;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        #currentImage {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 8px;
        }
        
        .answer-display {
            font-size: 2rem;
            margin: 15px 0;
            padding: 15px;
            border-radius: 10px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .correct-answer {
            background: #e8f5e9;
            color: #2e7d32;
            font-weight: bold;
        }
        
        .pass-answer {
            background: #ffebee;
            color: #c62828;
            font-weight: bold;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        button {
            padding: 15px 30px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        
        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .key-shortcut {
            position: absolute;
            top: -10px;
            right: -10px;
            background: #555;
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
        }
        
        #correctBtn {
            background: #4caf50;
            color: white;
        }
        
        #correctBtn:hover:not(:disabled) {
            background: #388e3c;
            transform: translateY(-3px);
        }
        
        #passBtn {
            background: #f44336;
            color: white;
        }
        
        #passBtn:hover:not(:disabled) {
            background: #d32f2f;
            transform: translateY(-3px);
        }
        
        #pauseBtn {
            background: #ff9800;
            color: white;
        }
        
        #pauseBtn:hover:not(:disabled) {
            background: #f57c00;
            transform: translateY(-3px);
        }
        
        #pauseBtn.paused {
            background: #2196f3;
        }
        
        #pauseBtn.paused:hover:not(:disabled) {
            background: #1976d2;
        }
        
        #startBtn {
            background: #2196f3;
            color: white;
            padding: 15px 40px;
            margin: 0 auto;
            display: block;
        }
        
        #startBtn:hover {
            background: #1976d2;
            transform: translateY(-3px);
        }
        

        #endGameBtn {
           background: #9c27b0;
           color: white;
           margin-top: 10px;
        }

        #endGameBtn:hover:not(:disabled) {
        background: #7b1fa2;
        transform: translateY(-3px);
        }

        .instructions {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }       
        .instructions h3 {
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .instructions ul {
            list-style-type: none;
            padding-left: 20px;
            margin-bottom: 15px;
        }
        
        .instructions li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 25px;
        }
        
        .instructions li:before {
            content: "•";
            color: #2196f3;
            font-weight: bold;
            position: absolute;
            left: 0;
        }
        
        .game-over {
            text-align: center;
            padding: 20px;
            background: #fff8e1;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }
        
        .game-over h2 {
            color: #f57c00;
            margin-bottom: 15px;
        }
        
        .settings {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .settings h3 {
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .settings label {
            display: block;
            margin: 8px 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .settings input {
            padding: 8px;
            width: 80px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .category-selection {
            background: #fff3e0;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .category-selection h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .categories {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .category {
            flex: 1;
            min-width: 200px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border: 2px solid #ff9800;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .category:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .category.selected {
            background: #ff9800;
            color: white;
        }
        
        .category h4 {
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .category.selected h4 {
            color: white;
        }
        
        .category p {
            font-size: 0.9rem;
            color: #666;
        }
        
        .category.selected p {
            color: #f0f0f0;
        }
        
        .github-url {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-family: monospace;
            word-break: break-all;
            border: 1px dashed #ccc;
        }
        
        @media (max-width: 600px) {
            .players-container {
                flex-direction: column;
                align-items: center;
            }
            
            .player {
                width: 100%;
                margin-bottom: 15px;
            }
            
            .image-container {
                height: 350px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            button {
                width: 80%;
            }
            
            .settings label {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .settings input {
                width: 100%;
                margin-top: 5px;
            }
            
            .player-name {
                max-width: 100px;
            }
            
            .header h1 {
                font-size: 2.2rem;
            }
            
            .categories {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Multi-Category Image Guessing Game</h1>
        <p>Choose from different image categories for each round of the game</p>
    </div>
    
    <div class="container">        
        <div class="settings">
            <h3>Game Settings</h3>
            <label>
                Initial Time (seconds):
                <input type="number" id="initialTime" value="60" min="10" max="300">
            </label>
            <label>
                Pass Penalty (seconds):
                <input type="number" id="passPenalty" value="5" min="0" max="30">
            </label>
        </div>
        
        <div class="players-container">
            <div class="player" id="player1">
                <h2>
                    <span>Player</span>
                    <input type="text" class="player-name" id="player1Name" value="Player 1" maxlength="12">
                </h2>
                <div class="score">0</div>
                <div class="time-bank">Time: 60.0s</div>
            </div>
            <div class="player" id="player2">
                <h2>
                    <span>Player</span>
                    <input type="text" class="player-name" id="player2Name" value="Player 2" maxlength="12">
                </h2>
                <div class="score">0</div>
                <div class="time-bank">Time: 60.0s</div>
            </div>
        </div>
        
        <div class="game-area">
            <div class="image-container">
                <img id="currentImage" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300' viewBox='0 0 400 300'%3E%3Crect width='400' height='300' fill='%23f8f9fa'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='sans-serif' font-size='24' fill='%23ccc'%3ESelect a category to start%3C/text%3E%3C/svg%3E">
            </div>
            <div class="answer-display" id="answerDisplay"></div>
            
            <div class="controls">
                <button id="correctBtn">
                    <span class="key-shortcut">←</span>
                    Correct!
                </button>
                <button id="pauseBtn">
                    <span class="key-shortcut">P</span>
                    Pause
                </button>
                <button id="passBtn">
                    <span class="key-shortcut">→</span>
                    Pass
                </button>
                <button id="endGameBtn">
                    <span class="key-shortcut">x</span>
                    End Game
                </button>
            </div>
            
            <div class="keyboard-hint">
                Use keyboard shortcuts: ← for Correct, P for Pause, → for Pass, x for End Game
            </div>
            
            <button id="startBtn">Start Game</button>
        </div>
        
        <div class="game-over" id="gameOver">
            <h2>Game Over!</h2>
            <p id="winnerMessage"></p>
            <button id="restartBtn">Play Again</button>
        </div>

        <div class="category-selection">
            <h3>Select Image Category</h3>
            <div class="categories">
                <div class="category" data-category="ATT">
                    <h4>ATT</h4>
                    <p>Attractions</p>
                </div>
                <div class="category" data-category="MPP">
                    <h4>MPP</h4>
                    <p>Meet-the-People</p>
                </div>
                <div class="category" data-category="SGM">
                    <h4>SGM</h4>
                    <p>Mallwalker</p>
                </div>
                <div class="category" data-category="HKF">
                    <h4>HKF</h4>
                    <p>Hawker Fare</p>
                </div>
                <div class="category" data-category="KNP">
                    <h4>KNP</h4>
                    <p>Snacks & Pastries</p>
                </div>
                <div class="category" data-category="DST">
                    <h4>DST</h4>
                    <p>Just Desserts</p>
                </div>
                <div class="category" data-category="DSS">
                    <h4>DSS</h4>
                    <p>Dim Sum Stall</p>
                </div>
                <div class="category" data-category="MAS">
                    <h4>MAS</h4>
                    <p>SG Mascots</p>
                </div>
            </div>
            <p>Selected category: <span id="selectedCategory">None</span></p>
        </div>
        <div class="instructions">
            <h3>Game Rules</h3>
            <ul>
                <li>Players take turns guessing what's shown in the picture</li>
                <li>The answer is the filename of the image (without extension)</li>
                <li>Click "Correct!" to get 1 point and show the correct answer (green)</li>
                <li>Click "Pass" to skip the image, show the answer (red) and deduct time</li>
                <li>Each player has an individual time bank - game ends when time runs out</li>
                <li>Time only decreases during guessing, not when answers are shown</li>
                <li>Images won't repeat during the same game</li>
                <li>Game ends when either time runs out or all images are used</li>
                <li>Press P or click Pause button to pause/resume the game</li>
            </ul>
            <h3>How to Add Your Own Categories</h3>
            <p>Edit the CATEGORIES object in the JavaScript to add your own image sets. Use the format: <code>category_name: ["image_url_1", "image_url_2", ...]</code></p>
        </div>
    </div>

    <script>
        // Define your image categories here
        const CATEGORIES = {
            ATT: [
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Adventure Cove Waterpark.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/ArtScience Museum.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Bird Paradise.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Botanic Gardens.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Buddha Tooth Relic Temple.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/CHIJMES.jpeg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Chinatown.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Chinese Garden.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Cloud Forest.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Esplanade.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Flower Dome.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Fort Canning Park.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Fort Siloso.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Fountain of Wealth.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Gardens By The Bay.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Haji Lane.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Haw Par Villa.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Helix Bridge.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Jewel Changi.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Lau Pa Sat.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Marina Bay Sands.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Merlion.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/National Gallery.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/National Museum of Singapore.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Night Safari.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/River Wonders.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Science Centre.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Sentosa Island.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Singapore Flyer.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Singapore Oceanarium.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Singapore Zoo.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/SkyHelix Sentosa.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Snow City.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Sultan Mosque or Kampong Glam or Arab Street.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Universal Studios Singapore.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/ATT/Wild Wild Wet @ Downtown East.jpg"

            ],
            MPP: [
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Amy Khor.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Baey Yam Keng.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Chan Chun Sing.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Chee Hong Tat.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Darryl David.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Denise Phua.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Desmond Lee.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Edwin Tong.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Gan Kim Yong.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Grace Fu.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Heng Swee Keat.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Jamus Lim.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Josephine Teo.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/K Shanmugam.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Koh Poh Koon.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Lawrence Wong.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Lee Hsien Loong.JPG",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Low Thia Khiang.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Masagos Zulkifli Bin Masagos Mohamad.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Ng Chee Meng.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Nicole Seah.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Ong Ye Kung.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Pritam Singh.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Sylvia Lim.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Tan See Leng.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Teo Chee Hean.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Tin Pei Ling.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Vivian Balakrishna.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Goh Chok Tong.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Ng Eng Heng.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MPP/Seah Kian Peng.jpg"
            ],
            SGM: [
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/313@Somerset.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Bugis Junction.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Bugis+.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Clarke Quay Central.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Funan.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Hillion Mall.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/ION Orchard.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Jem.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Jewel.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Junction 8.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Lot One.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Lucky Plaza.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Marina Square.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Mustafa Centre.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/NEX.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Ngee Ann City.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Raffles City.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/SingPost Centre.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Star Vista.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Suntec City.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Tampines Mall.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/The Cathay.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/The Shoppes at Marina Bay Sands.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Vivocity.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/SGM/Westgate.jpg"
            ],
            HKF: [
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Yong Tau Foo.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Popiah.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Mee Reebus.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Fish Soup Beehoon.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Mee Siam.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Chicken Rice.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Char Kway Teow.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Roti Prata.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Chilli Crab.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Bak Chor Mee.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Prawn Noodle.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Bakuteh.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Laksa.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Ban Mian.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Kway Chap.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Duck Rice.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Mee Soto.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Mutton Soup.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Oyster Omelette.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Satay.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Indian Rojak.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Hokkien Mee.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Teochew Porridge.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Nasi Lemak.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Mala Xiang Guo.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Fishball Noodle.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Pig Organ Soup.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Rojak.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Thunder Tea Rice.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Fried Carrot Cake.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Briyani.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Lor Mee.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Har Cheong Gai.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Satay Beehoon.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Wanton Mee.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/HKF/Raw Fish 鱼生.jpg"
            ],
            KNP: [
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Pandan Chiffon Cake.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Png Kueh.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Putu Piring.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Teochew Mooncake.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Tutu Kueh.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Vadai.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/You Tiao.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Ang Ku Kueh.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Butterfly Fritters.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Chwee Kueh.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Curry Puff.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Glutinous Rice Dumplings or Zong Zi.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Ham Chim Peng.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Huat Kueh.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Kueh Bahulu.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Kueh Bangkit.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Kueh Lapis 九层糕.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Kueh Pie Tee.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Kueh Salat.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Kek Lapis.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Min Chiang Kueh.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Mooncake.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Ngoh Hiang.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Ondeh Ondeh.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Kaya Toast.png",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Oyster Puff.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Muah Chee.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/KNP/Jalebi.jpg"
            ],
            DST: [
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Almond Cream 杏仁糊.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Bingsu.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Black Sesame Paste 芝麻糊.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Bobo Cha Cha.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Chendol.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Cheng Tng.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Durian Pengat.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Glutinous Rice Balls or Tang Yuan.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Green Bean Soup.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Ice Aiyu Jelly 文頭雪.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Ice Kachang.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Osmanthus Jelly 桂花糕.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Pulut Hitam 黑糯米.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Red Bean Soup.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Sea Coconut w Longan.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Soya Beancurd Tao Huay.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Soya Pudding.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Steamed Milk 炖鲜奶.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Tau Suan.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Walnut Paste 核桃糊.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DST/Yam Paste 芋泥.jpg"
            ],
            DSS: [
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Salted Egg Yolk Custard Bun 流沙包.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Siew Mai.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Soon Kueh.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Spring Roll.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Xiao Long Bao.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Yam Cake or Orh Kueh.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Beancurd Roll.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Big Bao 大包.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Carrot Cake.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Century Egg Congee or Porridge.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Char Siew Bao.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Chee Cheong Fun.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Chicken Claw 凤爪.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Chilli Oil Dumplings 红油抄手.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Chives Dumpling 韭菜餃子.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Egg Tarts.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Fried Shrimp Dumpling.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Har Gao.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Herbal Jelly 龟苓膏.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Lo Mai Kai.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Longevity Peach Bun 寿桃包.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Lotus Seed Bun 蓮蓉包.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Malay Steamed Cake 马来糕.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Mango Pomelo Sago 杨枝甘露.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Mango Pudding.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Pineapple Bun 菠蘿包.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Portuguese Egg Tart.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/DSS/Red Bean Paste Bun.jpg"
            ],
            MAS: [
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/August the Merlion.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Bag-Down Benny.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Bloobin.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Blood Buddy.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Captain Green.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Give-Way Glenda.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Hush-Hush Hannah.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/LiNUS.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Lyo.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Merli.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Merly.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Move-In Martin.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Nila.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Sharity Elephant.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Singa the Lion.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Smiley Squirrel.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Stand-up Stacey.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Teamy the Productivity Bee.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Water Sally.jpg",
                "https://raw.githubusercontent.com/jigglinjelly/Category-Pic-Guessing-Game/main/images/MAS/Water Wally.jpg"
            };

        document.addEventListener('DOMContentLoaded', function() {
            // Game elements
            const currentImageElement = document.getElementById('currentImage');
            const answerDisplayElement = document.getElementById('answerDisplay');
            const correctBtn = document.getElementById('correctBtn');
            const passBtn = document.getElementById('passBtn');
            const pauseBtn = document.getElementById('pauseBtn');
            const startBtn = document.getElementById('startBtn');
            const endGameBtn = document.getElementById('endGameBtn');
            const restartBtn = document.getElementById('restartBtn');
            const gameOverElement = document.getElementById('gameOver');
            const winnerMessageElement = document.getElementById('winnerMessage');
            const player1Element = document.getElementById('player1');
            const player2Element = document.getElementById('player2');
            const player1ScoreElement = player1Element.querySelector('.score');
            const player2ScoreElement = player2Element.querySelector('.score');
            const player1TimeElement = player1Element.querySelector('.time-bank');
            const player2TimeElement = player2Element.querySelector('.time-bank');
            const player1NameElement = document.getElementById('player1Name');
            const player2NameElement = document.getElementById('player2Name');
            const initialTimeInput = document.getElementById('initialTime');
            const passPenaltyInput = document.getElementById('passPenalty');
            const categoryElements = document.querySelectorAll('.category');
            const selectedCategoryElement = document.getElementById('selectedCategory');
            
            // Game state
            let currentPlayer = 1;
            let player1Score = 0;
            let player2Score = 0;
            let player1Time = 60.0;
            let player2Time = 60.0;
            let timerInterval = null;
            let gameActive = false;
            let gamePaused = false;
            let answerTimeout = null;
            let lastTimerUpdate = 0;
            let usedImages = [];
            let availableImages = [];
            let selectedCategory = null;
            
            let currentImage = null;
            
            // Initialize the game
            function initGame() {
                // Load player names from localStorage
                const savedPlayer1Name = localStorage.getItem('player1Name');
                const savedPlayer2Name = localStorage.getItem('player2Name');
                
                if (savedPlayer1Name) player1NameElement.value = savedPlayer1Name;
                if (savedPlayer2Name) player2NameElement.value = savedPlayer2Name;
                
                // Set up category selection
                categoryElements.forEach(category => {
                    category.addEventListener('click', function() {
                        // Remove selected class from all categories
                        categoryElements.forEach(c => c.classList.remove('selected'));
                        // Add selected class to clicked category
                        this.classList.add('selected');
                        // Set the selected category
                        selectedCategory = this.getAttribute('data-category');
                        selectedCategoryElement.textContent = selectedCategory.charAt(0).toUpperCase() + selectedCategory.slice(1);
                        
                        // Enable start button
                        startBtn.disabled = false;
                    });
                });
            }
            
            // Function to start the game
            function startGame() {
                if (!selectedCategory) {
                    alert('Please select a category to start the game.');
                    return;
                }
                
                // Get images for selected category
                availableImages = CATEGORIES[selectedCategory].map(url => {
                    // Extract filename from URL for the answer
                    const urlParts = url.split('/');
                    let filename = urlParts[urlParts.length - 1];
                    // Remove extension
                    filename = filename.replace(/\.[^/.]+$/, "");
                    
                    return {
                        name: filename,
                        url: url
                    };
                });
                
                if (availableImages.length < 2) {
                    alert('Selected category has less than 2 images. Please add more images to this category.');
                    return;
                }
                
                // Save player names
                localStorage.setItem('player1Name', player1NameElement.value);
                localStorage.setItem('player2Name', player2NameElement.value);
                
                gameActive = true;
                gamePaused = false;
                player1Time = parseFloat(initialTimeInput.value);
                player2Time = parseFloat(initialTimeInput.value);
                player1Score = 0;
                player2Score = 0;
                currentPlayer = 1;
                usedImages = [];
                
                player1ScoreElement.textContent = "0";
                player2ScoreElement.textContent = "0";
                player1TimeElement.textContent = `Time: ${player1Time.toFixed(1)}s`;
                player2TimeElement.textContent = `Time: ${player2Time.toFixed(1)}s`;
                
                player1Element.classList.add('active');
                player2Element.classList.remove('active');
                
                correctBtn.disabled = false;
                passBtn.disabled = false;
                pauseBtn.disabled = false;
                endGameBtn.disabled = false;
                pauseBtn.textContent = "Pause";
                pauseBtn.classList.remove("paused");
                startBtn.disabled = true;
                initialTimeInput.disabled = true;
                passPenaltyInput.disabled = true;
                player1NameElement.disabled = true;
                player2NameElement.disabled = true;
                gameOverElement.style.display = 'none';
                
                // Disable category selection during game
                categoryElements.forEach(category => {
                    category.style.pointerEvents = 'none';
                });
                
                // Clear any answer display
                answerDisplayElement.textContent = "";
                answerDisplayElement.className = "answer-display";
                
                // Start with a random image
                nextImage();
                
                // Start the timer for the first player
                lastTimerUpdate = Date.now();
                startTimer();
            }
            
            // Function to handle next image
            function nextImage() {
                // Filter out used images
                const unusedImages = availableImages.filter((img, index) => !usedImages.includes(index));
                
                if (unusedImages.length === 0) {
                    endGame("All images have been used!");
                    return;
                }
                
                const randomIndex = Math.floor(Math.random() * unusedImages.length);
                const selectedImageIndex = availableImages.indexOf(unusedImages[randomIndex]);
                currentImage = availableImages[selectedImageIndex];
                usedImages.push(selectedImageIndex);
                
                currentImageElement.src = currentImage.url;
            }
            
            // Function to start the timer for the current player
            function startTimer() {
                if (timerInterval) {
                    clearInterval(timerInterval);
                }
                
                timerInterval = setInterval(() => {
                    if (!gameActive || gamePaused) return;
                    
                    const now = Date.now();
                    const delta = (now - lastTimerUpdate) / 1000; // Convert to seconds
                    lastTimerUpdate = now;
                    
                    if (currentPlayer === 1) {
                        player1Time -= delta;
                        player1TimeElement.textContent = `Time: ${Math.max(0, player1Time).toFixed(1)}s`;
                        
                        if (player1Time <= 0) {
                            endGame(`${player1NameElement.value} ran out of time!`);
                        }
                    } else {
                        player2Time -= delta;
                        player2TimeElement.textContent = `Time: ${Math.max(0, player2Time).toFixed(1)}s`;
                        
                        if (player2Time <= 0) {
                            endGame(`${player2NameElement.value} ran out of time!`);
                        }
                    }
                }, 100);
            }
            
            // Function to stop the timer
            function stopTimer() {
                if (timerInterval) {
                    clearInterval(timerInterval);
                    timerInterval = null;
                }
            }
            
            // Function to toggle pause state
            function togglePause() {
                if (!gameActive) return;
                
                gamePaused = !gamePaused;
                
                if (gamePaused) {
                    stopTimer();
                    pauseBtn.textContent = "Resume";
                    pauseBtn.classList.add("paused");
                    correctBtn.disabled = true;
                    passBtn.disabled = true;
                } else {
                    lastTimerUpdate = Date.now();
                    startTimer();
                    pauseBtn.textContent = "Pause";
                    pauseBtn.classList.remove("paused");
                    correctBtn.disabled = false;
                    passBtn.disabled = false;
                }
            }
            
            // Function to display answer
            function displayAnswer(isCorrect) {
                // Stop the timer while showing the answer
                stopTimer();
                
                answerDisplayElement.textContent = `Correct answer: ${currentImage.name}`;
                answerDisplayElement.className = isCorrect ? 
                    "answer-display correct-answer" : "answer-display pass-answer";
                
                // Clear any existing timeout
                if (answerTimeout) {
                    clearTimeout(answerTimeout);
                }
                
                // Disable buttons temporarily
                correctBtn.disabled = true;
                passBtn.disabled = true;
                pauseBtn.disabled = true;
                endGameBtn.disabled = true;
                
                // Set timeout to continue game after showing answer
                answerTimeout = setTimeout(() => {
                    answerDisplayElement.textContent = "";
                    answerDisplayElement.className = "answer-display";
                    
                    // Check if all images have been used
                    const unusedImages = availableImages.filter((img, index) => !usedImages.includes(index));
                    if (unusedImages.length === 0) {
                        endGame("All images have been used!");
                        return;
                    }
                    
                    // Update last timer update time before restarting
                    lastTimerUpdate = Date.now();
                    
                    if (isCorrect) {
                        // After correct answer, switch player and show next image
                        switchPlayer();
                        nextImage();
                    } else {
                        // After pass, just show next image for same player
                        nextImage();
                    }
                    
                    // Re-enable buttons and restart timer
                    correctBtn.disabled = false;
                    passBtn.disabled = false;
                    pauseBtn.disabled = false;
                    endGameBtn.disabled = false;
                    startTimer();
                }, 2000);
            }
            
            // Function to switch player
            function switchPlayer() {
                currentPlayer = currentPlayer === 1 ? 2 : 1;
                
                if (currentPlayer === 1) {
                    player1Element.classList.add('active');
                    player2Element.classList.remove('active');
                } else {
                    player1Element.classList.remove('active');
                    player2Element.classList.add('active');
                }
                
                // Update timer display when switching players
                player1TimeElement.textContent = `Time: ${player1Time.toFixed(1)}s`;
                player2TimeElement.textContent = `Time: ${player2Time.toFixed(1)}s`;
            }
            
            // Function to handle correct answer
            function handleCorrect() {
                if (!gameActive || gamePaused) return;
                
                if (currentPlayer === 1) {
                    player1Score++;
                    player1ScoreElement.textContent = player1Score;
                } else {
                    player2Score++;
                    player2ScoreElement.textContent = player2Score;
                }
                
                // Display answer in green
                displayAnswer(true);
            }
            
            // Function to handle pass
            function handlePass() {
                if (!gameActive || gamePaused) return;
                
                // Apply time penalty
                const penalty = parseFloat(passPenaltyInput.value);
                if (currentPlayer === 1) {
                    player1Time -= penalty;
                    player1TimeElement.textContent = `Time: ${player1Time.toFixed(1)}s`;
                    if (player1Time <= 0) {
                        endGame(`${player1NameElement.value} ran out of time!`);
                        return;
                    }
                } else {
                    player2Time -= penalty;
                    player2TimeElement.textContent = `Time: ${player2Time.toFixed(1)}s`;
                    if (player2Time <= 0) {
                        endGame(`${player2NameElement.value} ran out of time!`);
                        return;
                    }
                }
                
                // Display answer in red
                displayAnswer(false);
            }
            
            // Function to end the game
            function endGame(reason = "") {
                gameActive = false;
                gamePaused = false;
                stopTimer();
                if (answerTimeout) {
                    clearTimeout(answerTimeout);
                }
                // Show the current answer when game ends
                if (currentImage) {
                    answerDisplayElement.textContent = `Final Answer: ${currentImage.name}`;
                    answerDisplayElement.className = "answer-display correct-answer";
                }
                correctBtn.disabled = true;
                passBtn.disabled = true;
                pauseBtn.disabled = true;
                startBtn.disabled = false;
                endGameBtn.disabled = true; // Disable end game button after game ends
                initialTimeInput.disabled = false;
                passPenaltyInput.disabled = false;
                player1NameElement.disabled = false;
                player2NameElement.disabled = false;
                
                // Re-enable category selection
                categoryElements.forEach(category => {
                    category.style.pointerEvents = 'auto';
                });
                
                // Determine winner
                let winnerMessage = "";
                if (player1Score > player2Score) {
                    winnerMessage = `${player1NameElement.value} wins!`;
                } else if (player2Score > player1Score) {
                    winnerMessage = `${player2NameElement.value} wins!`;
                } else if (player1Time > player2Time) {
                    winnerMessage = `${player1NameElement.value} wins (tie but more time left)!`;
                } else if (player2Time > player1Time) {
                    winnerMessage = `${player2NameElement.value} wins (tie but more time left)!`;
                } else {
                    winnerMessage = "It's a tie!";
                }
                
                if (reason) {
                    winnerMessage = `${reason} ${winnerMessage}`;
                }
                
                winnerMessageElement.textContent = `${winnerMessage} Final Score: ${player1NameElement.value}: ${player1Score} - ${player2NameElement.value}: ${player2Score}`;
                gameOverElement.style.display = 'block';
                
                // Scroll to game over message
                gameOverElement.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
           
            // Function to handle ending the game prematurely
            function endGamePrematurely() {
                if (!gameActive) return;
                
                // Show the current answer when ending the game
                answerDisplayElement.textContent = `Answer: ${currentImage.name}`;
                answerDisplayElement.className = "answer-display correct-answer";
                
                // End the game with a specific message
                endGame("Game ended prematurely.");
            }            



            // Initialize the game
            initGame();
            
            // Event listeners
            startBtn.addEventListener('click', startGame);
            restartBtn.addEventListener('click', startGame);
            correctBtn.addEventListener('click', handleCorrect);
            passBtn.addEventListener('click', handlePass);
            pauseBtn.addEventListener('click', togglePause);
            endGameBtn.addEventListener('click', endGamePrematurely);
            
            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (!gameActive) return;
                if (!gameActive || endGameBtn.disabled) return; 
                if (correctBtn.disabled) return; // Prevent keyboard input when buttons are disabled
                
                if (e.key === 'ArrowLeft') {
                    handleCorrect();
                    // Visual feedback
                    correctBtn.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        correctBtn.style.transform = '';
                    }, 100);
                } else if (e.key === 'ArrowRight') {
                    handlePass();
                    // Visual feedback
                    passBtn.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        passBtn.style.transform = '';
                    }, 100);
                } else if (e.key === 'p' || e.key === 'P') {
                    togglePause();
                    // Visual feedback
                    pauseBtn.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        pauseBtn.style.transform = '';
                    }, 100);
                } else if (e.key === 'x' || e.key === 'X') {
                    endGamePrematurely();
                    // Visual feedback
                    endGameBtn.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        endGameBtn.style.transform = '';
                    }, 100);
                }
            });
        });
    </script>
</body>
</html>
